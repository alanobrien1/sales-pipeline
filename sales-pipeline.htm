<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">import React, { useState, useEffect, useRef } from 'react';</p>
<p class="p1">import { Plus, Calendar, CheckSquare, Mail, Users, Phone, DollarSign, Search, Bell, X, TrendingUp, BarChart3, Download, Upload, Settings, Trash2, Edit2, Copy, Moon, Sun, Target, Award, Clock } from 'lucide-react';</p>
<p class="p2"><br></p>
<p class="p1">const DEFAULT_STAGES = [</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'lead', name: 'Lead', color: 'bg-gray-500', probability: 10 },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'qualified', name: 'Qualified', color: 'bg-blue-500', probability: 25 },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'proposal', name: 'Proposal', color: 'bg-purple-500', probability: 50 },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'negotiation', name: 'Negotiation', color: 'bg-orange-500', probability: 75 },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'closed-won', name: 'Closed Won', color: 'bg-green-500', probability: 100 },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'closed-lost', name: 'Closed Lost', color: 'bg-red-500', probability: 0 }</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">const ACTIVITY_TYPES = [</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'call', name: 'Call', icon: Phone },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'email', name: 'Email', icon: Mail },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'meeting', name: 'Meeting', icon: Users },</p>
<p class="p1"><span class="Apple-converted-space">  </span>{ id: 'todo', name: 'To Do', icon: CheckSquare }</p>
<p class="p1">];</p>
<p class="p2"><br></p>
<p class="p1">const LEAD_SOURCES = ['Website', 'Referral', 'Cold Call', 'LinkedIn', 'Email Campaign', 'Trade Show', 'Other'];</p>
<p class="p1">const INDUSTRIES = ['Technology', 'Healthcare', 'Finance', 'Manufacturing', 'Retail', 'Consulting', 'Other'];</p>
<p class="p2"><br></p>
<p class="p1">export default function SalesPipelineApp() {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [view, setView] = useState('pipeline');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [leads, setLeads] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [stages, setStages] = useState(DEFAULT_STAGES);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showAddLead, setShowAddLead] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showAddActivity, setShowAddActivity] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showSettings, setShowSettings] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [selectedLead, setSelectedLead] = useState(null);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [selectedLeads, setSelectedLeads] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [searchTerm, setSearchTerm] = useState('');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [filterBy, setFilterBy] = useState('all');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [sortBy, setSortBy] = useState('date');</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [darkMode, setDarkMode] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showBulkActions, setShowBulkActions] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [workflows, setWorkflows] = useState([]);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const fileInputRef = useRef(null);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>useEffect(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>loadData();</p>
<p class="p1"><span class="Apple-converted-space">  </span>}, []);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const loadData = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>try {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const result = await window.storage.get('sales-complete-data');</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (result) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const data = JSON.parse(result.value);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setLeads(data.leads || []);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setStages(data.stages || DEFAULT_STAGES);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setWorkflows(data.workflows || []);</p>
<p class="p1"><span class="Apple-converted-space">        </span>setDarkMode(data.darkMode || false);</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>console.log('No existing data found');</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const saveData = async (updatedLeads, updatedStages = stages, updatedWorkflows = workflows) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>try {</p>
<p class="p1"><span class="Apple-converted-space">      </span>await window.storage.set('sales-complete-data', JSON.stringify({<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>leads: updatedLeads,</p>
<p class="p1"><span class="Apple-converted-space">        </span>stages: updatedStages,</p>
<p class="p1"><span class="Apple-converted-space">        </span>workflows: updatedWorkflows,</p>
<p class="p1"><span class="Apple-converted-space">        </span>darkMode</p>
<p class="p1"><span class="Apple-converted-space">      </span>}));</p>
<p class="p1"><span class="Apple-converted-space">    </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>console.error('Error saving data:', error);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const calculateLeadScore = (lead) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>let score = 0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (lead.value &gt; 10000) score += 30;</p>
<p class="p1"><span class="Apple-converted-space">    </span>else if (lead.value &gt; 5000) score += 20;</p>
<p class="p1"><span class="Apple-converted-space">    </span>else if (lead.value &gt; 1000) score += 10;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>if (lead.email) score += 10;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (lead.phone) score += 10;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (lead.company) score += 10;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (lead.industry) score += 10;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (lead.leadSource === 'Referral') score += 20;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return Math.min(score, 100);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const addLead = (leadData) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const newLead = {</p>
<p class="p1"><span class="Apple-converted-space">      </span>id: Date.now().toString(),</p>
<p class="p1"><span class="Apple-converted-space">      </span>...leadData,</p>
<p class="p1"><span class="Apple-converted-space">      </span>stage: 'lead',</p>
<p class="p1"><span class="Apple-converted-space">      </span>createdAt: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">      </span>activities: [],</p>
<p class="p1"><span class="Apple-converted-space">      </span>history: [{</p>
<p class="p1"><span class="Apple-converted-space">        </span>date: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>action: 'Created',</p>
<p class="p1"><span class="Apple-converted-space">        </span>user: 'Current User'</p>
<p class="p1"><span class="Apple-converted-space">      </span>}],</p>
<p class="p1"><span class="Apple-converted-space">      </span>score: calculateLeadScore(leadData)</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">    </span>const updatedLeads = [...leads, newLead];</p>
<p class="p1"><span class="Apple-converted-space">    </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowAddLead(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const updateLead = (leadId, updates) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const updatedLeads = leads.map(lead =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (lead.id === leadId) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const updated = { ...lead, ...updates };</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (updates.stage &amp;&amp; updates.stage !== lead.stage) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>updated.history = [...(lead.history || []), {</p>
<p class="p1"><span class="Apple-converted-space">            </span>date: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">            </span>action: `Stage changed to ${stages.find(s =&gt; s.id === updates.stage)?.name}`,</p>
<p class="p1"><span class="Apple-converted-space">            </span>user: 'Current User'</p>
<p class="p1"><span class="Apple-converted-space">          </span>}];</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>updated.score = calculateLeadScore(updated);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return updated;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>return lead;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const updateLeadStage = (leadId, newStage) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>updateLead(leadId, { stage: newStage });</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const deleteLead = (leadId) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (confirm('Are you sure you want to delete this lead?')) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const updatedLeads = leads.filter(lead =&gt; lead.id !== leadId);</p>
<p class="p1"><span class="Apple-converted-space">      </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">      </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const duplicateLead = (leadId) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const lead = leads.find(l =&gt; l.id === leadId);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (lead) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const newLead = {</p>
<p class="p1"><span class="Apple-converted-space">        </span>...lead,</p>
<p class="p1"><span class="Apple-converted-space">        </span>id: Date.now().toString(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>name: lead.name + ' (Copy)',</p>
<p class="p1"><span class="Apple-converted-space">        </span>createdAt: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">        </span>activities: [],</p>
<p class="p1"><span class="Apple-converted-space">        </span>history: [{</p>
<p class="p1"><span class="Apple-converted-space">          </span>date: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">          </span>action: 'Duplicated from ' + lead.name,</p>
<p class="p1"><span class="Apple-converted-space">          </span>user: 'Current User'</p>
<p class="p1"><span class="Apple-converted-space">        </span>}]</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">      </span>const updatedLeads = [...leads, newLead];</p>
<p class="p1"><span class="Apple-converted-space">      </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">      </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const addActivity = (activityData) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const updatedLeads = leads.map(lead =&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.id === selectedLead.id</p>
<p class="p1"><span class="Apple-converted-space">        </span>? {</p>
<p class="p1"><span class="Apple-converted-space">            </span>...lead,</p>
<p class="p1"><span class="Apple-converted-space">            </span>activities: [...(lead.activities || []), {</p>
<p class="p1"><span class="Apple-converted-space">              </span>id: Date.now().toString(),</p>
<p class="p1"><span class="Apple-converted-space">              </span>...activityData,</p>
<p class="p1"><span class="Apple-converted-space">              </span>createdAt: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">              </span>completed: false</p>
<p class="p1"><span class="Apple-converted-space">            </span>}],</p>
<p class="p1"><span class="Apple-converted-space">            </span>history: [...(lead.history || []), {</p>
<p class="p1"><span class="Apple-converted-space">              </span>date: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">              </span>action: `Activity added: ${activityData.description}`,</p>
<p class="p1"><span class="Apple-converted-space">              </span>user: 'Current User'</p>
<p class="p1"><span class="Apple-converted-space">            </span>}]</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>: lead</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowAddActivity(false);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setSelectedLead(null);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const completeActivity = (leadId, activityId) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const updatedLeads = leads.map(lead =&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.id === leadId</p>
<p class="p1"><span class="Apple-converted-space">        </span>? {</p>
<p class="p1"><span class="Apple-converted-space">            </span>...lead,</p>
<p class="p1"><span class="Apple-converted-space">            </span>activities: lead.activities.map(activity =&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>activity.id === activityId</p>
<p class="p1"><span class="Apple-converted-space">                </span>? { ...activity, completed: !activity.completed }</p>
<p class="p1"><span class="Apple-converted-space">                </span>: activity</p>
<p class="p1"><span class="Apple-converted-space">            </span>)</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>: lead</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const bulkUpdateStage = (newStage) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const updatedLeads = leads.map(lead =&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>selectedLeads.includes(lead.id)</p>
<p class="p1"><span class="Apple-converted-space">        </span>? { ...lead, stage: newStage }</p>
<p class="p1"><span class="Apple-converted-space">        </span>: lead</p>
<p class="p1"><span class="Apple-converted-space">    </span>);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setSelectedLeads([]);</p>
<p class="p1"><span class="Apple-converted-space">    </span>setShowBulkActions(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const bulkDelete = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (confirm(`Delete ${selectedLeads.length} leads?`)) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const updatedLeads = leads.filter(lead =&gt; !selectedLeads.includes(lead.id));</p>
<p class="p1"><span class="Apple-converted-space">      </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">      </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">      </span>setSelectedLeads([]);</p>
<p class="p1"><span class="Apple-converted-space">      </span>setShowBulkActions(false);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const exportCSV = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const headers = ['Name', 'Company', 'Email', 'Phone', 'Stage', 'Value', 'Lead Source', 'Industry', 'Created'];</p>
<p class="p1"><span class="Apple-converted-space">    </span>const rows = leads.map(lead =&gt; [</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.name,</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.company || '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.email || '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.phone || '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>stages.find(s =&gt; s.id === lead.stage)?.name || '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.value || 0,</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.leadSource || '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.industry || '',</p>
<p class="p1"><span class="Apple-converted-space">      </span>new Date(lead.createdAt).toLocaleDateString()</p>
<p class="p1"><span class="Apple-converted-space">    </span>]);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const csv = [headers, ...rows].map(row =&gt; row.join(',')).join('\n');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const blob = new Blob([csv], { type: 'text/csv' });</p>
<p class="p1"><span class="Apple-converted-space">    </span>const url = URL.createObjectURL(blob);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const link = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">    </span>link.href = url;</p>
<p class="p1"><span class="Apple-converted-space">    </span>link.download = `leads-export-${new Date().toISOString().split('T')[0]}.csv`;</p>
<p class="p1"><span class="Apple-converted-space">    </span>link.click();</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const importCSV = (event) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const file = event.target.files[0];</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (file) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">      </span>reader.onload = (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>try {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const lines = e.target.result.split('\n');</p>
<p class="p1"><span class="Apple-converted-space">          </span>const importedLeads = [];</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>for (let i = 1; i &lt; lines.length; i++) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (lines[i].trim()) {</p>
<p class="p1"><span class="Apple-converted-space">              </span>const values = lines[i].split(',').map(v =&gt; v.trim());</p>
<p class="p1"><span class="Apple-converted-space">              </span>const lead = {</p>
<p class="p1"><span class="Apple-converted-space">                </span>id: Date.now().toString() + i,</p>
<p class="p1"><span class="Apple-converted-space">                </span>name: values[0] || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>company: values[1] || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>email: values[2] || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>phone: values[3] || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>stage: 'lead',</p>
<p class="p1"><span class="Apple-converted-space">                </span>value: parseFloat(values[5]) || 0,</p>
<p class="p1"><span class="Apple-converted-space">                </span>leadSource: values[6] || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>industry: values[7] || '',</p>
<p class="p1"><span class="Apple-converted-space">                </span>createdAt: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">                </span>activities: [],</p>
<p class="p1"><span class="Apple-converted-space">                </span>history: [{</p>
<p class="p1"><span class="Apple-converted-space">                  </span>date: new Date().toISOString(),</p>
<p class="p1"><span class="Apple-converted-space">                  </span>action: 'Imported from CSV',</p>
<p class="p1"><span class="Apple-converted-space">                  </span>user: 'Current User'</p>
<p class="p1"><span class="Apple-converted-space">                </span>}]</p>
<p class="p1"><span class="Apple-converted-space">              </span>};</p>
<p class="p1"><span class="Apple-converted-space">              </span>importedLeads.push(lead);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>const updatedLeads = [...leads, ...importedLeads];</p>
<p class="p1"><span class="Apple-converted-space">          </span>setLeads(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">          </span>saveData(updatedLeads);</p>
<p class="p1"><span class="Apple-converted-space">          </span>alert(`Imported ${importedLeads.length} leads successfully!`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>alert('Error importing CSV. Please check the file format.');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">      </span>reader.readAsText(file);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const getAllActivities = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const activities = [];</p>
<p class="p1"><span class="Apple-converted-space">    </span>leads.forEach(lead =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>(lead.activities || []).forEach(activity =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>activities.push({</p>
<p class="p1"><span class="Apple-converted-space">          </span>...activity,</p>
<p class="p1"><span class="Apple-converted-space">          </span>leadName: lead.name,</p>
<p class="p1"><span class="Apple-converted-space">          </span>leadId: lead.id</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>return activities.sort((a, b) =&gt; new Date(a.dueDate) - new Date(b.dueDate));</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const getUpcomingActivities = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const now = new Date();</p>
<p class="p1"><span class="Apple-converted-space">    </span>const threeDaysFromNow = new Date(now.getTime() + 3 * 24 * 60 * 60 * 1000);</p>
<p class="p1"><span class="Apple-converted-space">    </span>return getAllActivities().filter(activity =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const dueDate = new Date(activity.dueDate);</p>
<p class="p1"><span class="Apple-converted-space">      </span>return !activity.completed &amp;&amp; dueDate &lt;= threeDaysFromNow;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const getAnalytics = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const totalValue = leads.reduce((sum, lead) =&gt; sum + (lead.value || 0), 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const weightedValue = leads.reduce((sum, lead) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const stage = stages.find(s =&gt; s.id === lead.stage);</p>
<p class="p1"><span class="Apple-converted-space">      </span>return sum + (lead.value || 0) * ((stage?.probability || 0) / 100);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}, 0);</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const wonDeals = leads.filter(l =&gt; l.stage === 'closed-won');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const lostDeals = leads.filter(l =&gt; l.stage === 'closed-lost');</p>
<p class="p1"><span class="Apple-converted-space">    </span>const winRate = wonDeals.length + lostDeals.length &gt; 0</p>
<p class="p1"><span class="Apple-converted-space">      </span>? (wonDeals.length / (wonDeals.length + lostDeals.length) * 100).toFixed(1)</p>
<p class="p1"><span class="Apple-converted-space">      </span>: 0;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const avgDealSize = leads.length &gt; 0 ? totalValue / leads.length : 0;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>const conversionRates = {};</p>
<p class="p1"><span class="Apple-converted-space">    </span>stages.forEach((stage, idx) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (idx &lt; stages.length - 2) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const current = leads.filter(l =&gt; l.stage === stage.id).length;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const next = leads.filter(l =&gt; l.stage === stages[idx + 1].id).length;</p>
<p class="p1"><span class="Apple-converted-space">        </span>conversionRates[stage.id] = current &gt; 0 ? (next / current * 100).toFixed(1) : 0;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>return {</p>
<p class="p1"><span class="Apple-converted-space">      </span>totalValue,</p>
<p class="p1"><span class="Apple-converted-space">      </span>weightedValue,</p>
<p class="p1"><span class="Apple-converted-space">      </span>winRate,</p>
<p class="p1"><span class="Apple-converted-space">      </span>avgDealSize,</p>
<p class="p1"><span class="Apple-converted-space">      </span>conversionRates,</p>
<p class="p1"><span class="Apple-converted-space">      </span>totalLeads: leads.length,</p>
<p class="p1"><span class="Apple-converted-space">      </span>wonDeals: wonDeals.length,</p>
<p class="p1"><span class="Apple-converted-space">      </span>lostDeals: lostDeals.length</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const filteredLeads = leads.filter(lead =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>const matchesSearch = lead.name.toLowerCase().includes(searchTerm.toLowerCase()) ||</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.company?.toLowerCase().includes(searchTerm.toLowerCase()) ||</p>
<p class="p1"><span class="Apple-converted-space">      </span>lead.email?.toLowerCase().includes(searchTerm.toLowerCase());</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>if (filterBy === 'all') return matchesSearch;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (filterBy === 'high-value') return matchesSearch &amp;&amp; (lead.value || 0) &gt; 5000;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (filterBy === 'hot') return matchesSearch &amp;&amp; lead.score &gt; 70;</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (filterBy === 'overdue') {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const hasOverdue = lead.activities?.some(a =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>!a.completed &amp;&amp; new Date(a.dueDate) &lt; new Date()</p>
<p class="p1"><span class="Apple-converted-space">      </span>);</p>
<p class="p1"><span class="Apple-converted-space">      </span>return matchesSearch &amp;&amp; hasOverdue;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>return matchesSearch &amp;&amp; lead.stage === filterBy;</p>
<p class="p1"><span class="Apple-converted-space">  </span>}).sort((a, b) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (sortBy === 'date') return new Date(b.createdAt) - new Date(a.createdAt);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (sortBy === 'value') return (b.value || 0) - (a.value || 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (sortBy === 'score') return (b.score || 0) - (a.score || 0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (sortBy === 'name') return a.name.localeCompare(b.name);</p>
<p class="p1"><span class="Apple-converted-space">    </span>return 0;</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const analytics = getAnalytics();</p>
<p class="p1"><span class="Apple-converted-space">  </span>const bgClass = darkMode ? 'bg-gray-900' : 'bg-gradient-to-br from-slate-50 to-slate-100';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const cardBg = darkMode ? 'bg-gray-800' : 'bg-white';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const textClass = darkMode ? 'text-gray-100' : 'text-slate-900';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const textSecondary = darkMode ? 'text-gray-400' : 'text-slate-600';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className={`min-h-screen ${bgClass}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;header className={`${cardBg} shadow-sm border-b ${darkMode ? 'border-gray-700' : 'border-slate-200'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="max-w-7xl mx-auto px-4 py-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex items-center justify-between mb-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h1 className={`text-2xl font-bold ${textClass}`}&gt;Sales Pipeline&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className={`text-sm ${textSecondary} mt-1`}&gt;Track and manage your sales opportunities&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="flex items-center gap-4 mt-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;DollarSign className="w-4 h-4 text-green-600" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span className={`text-sm font-semibold ${textClass}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>Total: ${analytics.totalValue.toLocaleString()}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;Target className="w-4 h-4 text-blue-600" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span className={`text-sm font-semibold ${textClass}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>Forecast: ${Math.round(analytics.weightedValue).toLocaleString()}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;Award className="w-4 h-4 text-purple-600" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span className={`text-sm font-semibold ${textClass}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>Win Rate: {analytics.winRate}%</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={() =&gt; setDarkMode(!darkMode)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-gray-200' : 'bg-slate-100 text-slate-700'} hover:opacity-80`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{darkMode ? &lt;Sun className="w-5 h-5" /&gt; : &lt;Moon className="w-5 h-5" /&gt;}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={() =&gt; setView('pipeline')}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`px-4 py-2 rounded-lg font-medium transition-colors ${</p>
<p class="p1"><span class="Apple-converted-space">                  </span>view === 'pipeline'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>? 'bg-blue-600 text-white'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>: darkMode ? 'bg-gray-700 text-gray-200' : 'bg-slate-100 text-slate-700'</p>
<p class="p1"><span class="Apple-converted-space">                </span>}`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Pipeline</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={() =&gt; setView('activities')}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`px-4 py-2 rounded-lg font-medium transition-colors relative ${</p>
<p class="p1"><span class="Apple-converted-space">                  </span>view === 'activities'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>? 'bg-blue-600 text-white'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>: darkMode ? 'bg-gray-700 text-gray-200' : 'bg-slate-100 text-slate-700'</p>
<p class="p1"><span class="Apple-converted-space">                </span>}`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Activities</p>
<p class="p1"><span class="Apple-converted-space">                </span>{getUpcomingActivities().length &gt; 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{getUpcomingActivities().length}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={() =&gt; setView('analytics')}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`px-4 py-2 rounded-lg font-medium transition-colors ${</p>
<p class="p1"><span class="Apple-converted-space">                  </span>view === 'analytics'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>? 'bg-blue-600 text-white'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>: darkMode ? 'bg-gray-700 text-gray-200' : 'bg-slate-100 text-slate-700'</p>
<p class="p1"><span class="Apple-converted-space">                </span>}`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;BarChart3 className="w-5 h-5" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={() =&gt; setShowSettings(true)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`px-4 py-2 rounded-lg font-medium transition-colors ${</p>
<p class="p1"><span class="Apple-converted-space">                  </span>darkMode ? 'bg-gray-700 text-gray-200' : 'bg-slate-100 text-slate-700'</p>
<p class="p1"><span class="Apple-converted-space">                </span>}`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;Settings className="w-5 h-5" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="max-w-7xl mx-auto px-4 py-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="flex gap-3 mb-6 flex-wrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex-1 min-w-64 relative"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;Search className={`absolute left-3 top-1/2 transform -translate-y-1/2 ${textSecondary} w-5 h-5`} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">              </span>type="text"</p>
<p class="p1"><span class="Apple-converted-space">              </span>placeholder="Search leads..."</p>
<p class="p1"><span class="Apple-converted-space">              </span>value={searchTerm}</p>
<p class="p1"><span class="Apple-converted-space">              </span>onChange={(e) =&gt; setSearchTerm(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className={`w-full pl-10 pr-4 py-2 border ${darkMode ? 'bg-gray-800 border-gray-700 text-gray-100' : 'border-slate-300'} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">            </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">            </span>value={filterBy}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onChange={(e) =&gt; setFilterBy(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>className={`px-4 py-2 border ${darkMode ? 'bg-gray-800 border-gray-700 text-gray-100' : 'border-slate-300'} rounded-lg focus:ring-2 focus:ring-blue-500`}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="all"&gt;All Leads&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="high-value"&gt;High Value&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="hot"&gt;Hot Leads&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="overdue"&gt;Overdue&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{stages.map(stage =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;option key={stage.id} value={stage.id}&gt;{stage.name}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>))}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">            </span>value={sortBy}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onChange={(e) =&gt; setSortBy(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>className={`px-4 py-2 border ${darkMode ? 'bg-gray-800 border-gray-700 text-gray-100' : 'border-slate-300'} rounded-lg focus:ring-2 focus:ring-blue-500`}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="date"&gt;Sort by Date&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="value"&gt;Sort by Value&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="score"&gt;Sort by Score&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;option value="name"&gt;Sort by Name&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{selectedLeads.length &gt; 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">              </span>onClick={() =&gt; setShowBulkActions(!showBulkActions)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors"</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>Bulk ({selectedLeads.length})</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">            </span>onClick={() =&gt; setShowAddLead(true)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium"</p>
<p class="p1"><span class="Apple-converted-space">          </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;Plus className="w-5 h-5" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>Add Lead</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{showBulkActions &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className={`${cardBg} rounded-lg shadow-sm border ${darkMode ? 'border-gray-700' : 'border-slate-200'} p-4 mb-6`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 className={`font-semibold ${textClass} mb-3`}&gt;Bulk Actions&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex gap-2 flex-wrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; e.target.value &amp;&amp; bulkUpdateStage(e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`px-4 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-gray-100' : 'border-slate-300'} rounded-lg`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;option value=""&gt;Move to Stage...&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{stages.map(stage =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;option key={stage.id} value={stage.id}&gt;{stage.name}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={bulkDelete}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2"</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;Trash2 className="w-4 h-4" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Delete</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>setSelectedLeads([]);</p>
<p class="p1"><span class="Apple-converted-space">                  </span>setShowBulkActions(false);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`px-4 py-2 border ${darkMode ? 'border-gray-600 text-gray-300' : 'border-slate-300 text-slate-700'} rounded-lg hover:bg-opacity-50`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Cancel</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{view === 'pipeline' &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{stages.map(stage =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">              </span>const stageLeads = filteredLeads.filter(lead =&gt; lead.stage === stage.id);</p>
<p class="p1"><span class="Apple-converted-space">              </span>const totalValue = stageLeads.reduce((sum, lead) =&gt; sum + (lead.value || 0), 0);</p>
<p class="p2"><span class="Apple-converted-space">              </span></p>
<p class="p1"><span class="Apple-converted-space">              </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div key={stage.id} className={`${cardBg} rounded-lg shadow-sm border ${darkMode ? 'border-gray-700' : 'border-slate-200'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className={`${stage.color} text-white p-3 rounded-t-lg`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div className="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;h3 className="font-semibold text-sm"&gt;{stage.name}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;span className="bg-white bg-opacity-30 px-2 py-0.5 rounded text-xs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>{stageLeads.length}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{totalValue &gt; 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;p className="text-xs mt-1 opacity-90"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${totalValue.toLocaleString()}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;div className="p-2 space-y-2 max-h-96 overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{stageLeads.map(lead =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;LeadCard</p>
<p class="p1"><span class="Apple-converted-space">                        </span>key={lead.id}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>lead={lead}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>stages={stages}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>selectedLeads={selectedLeads}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>onSelect={(id) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                          </span>if (selectedLeads.includes(id)) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>setSelectedLeads(selectedLeads.filter(i =&gt; i !== id));</p>
<p class="p1"><span class="Apple-converted-space">                          </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>setSelectedLeads([...selectedLeads, id]);</p>
<p class="p1"><span class="Apple-converted-space">                          </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>onStageChange={updateLeadStage}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>onAddActivity={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                          </span>setSelectedLead(lead);</p>
<p class="p1"><span class="Apple-converted-space">                          </span>setShowAddActivity(true);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>onActivityComplete={completeActivity}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>onDelete={deleteLead}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>onDuplicate={duplicateLead}</p>
<p class="p1"><span class="Apple-converted-space">                      </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>))}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>);</p>
<p class="p1"><span class="Apple-converted-space">            </span>})}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{view === 'activities' &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className={`${cardBg} rounded-lg shadow-sm border ${darkMode ? 'border-gray-700' : 'border-slate-200'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className={`p-4 border-b ${darkMode ? 'border-gray-700' : 'border-slate-200'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h2 className={`text-xl font-semibold ${textClass}`}&gt;All Activities&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className={`divide-y ${darkMode ? 'divide-gray-700' : 'divide-slate-200'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{getAllActivities().length === 0 ? (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div className={`p-8 text-center ${textSecondary}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;Calendar className="w-12 h-12 mx-auto mb-3 opacity-50" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;p&gt;No activities yet. Add activities to your leads to see them here.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>) : (</p>
<p class="p1"><span class="Apple-converted-space">                </span>getAllActivities().map(activity =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;ActivityRow</p>
<p class="p1"><span class="Apple-converted-space">                    </span>key={activity.id}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>activity={activity}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onComplete={() =&gt; completeActivity(activity.leadId, activity.id)}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>{view === 'analytics' &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="space-y-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;AnalyticsCard</p>
<p class="p1"><span class="Apple-converted-space">                </span>title="Total Pipeline"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={`$${analytics.totalValue.toLocaleString()}`}</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon={DollarSign}</p>
<p class="p1"><span class="Apple-converted-space">                </span>color="text-green-600"</p>
<p class="p1"><span class="Apple-converted-space">                </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;AnalyticsCard</p>
<p class="p1"><span class="Apple-converted-space">                </span>title="Weighted Forecast"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={`$${Math.round(analytics.weightedValue).toLocaleString()}`}</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon={Target}</p>
<p class="p1"><span class="Apple-converted-space">                </span>color="text-blue-600"</p>
<p class="p1"><span class="Apple-converted-space">                </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;AnalyticsCard</p>
<p class="p1"><span class="Apple-converted-space">                </span>title="Win Rate"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={`${analytics.winRate}%`}</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon={Award}</p>
<p class="p1"><span class="Apple-converted-space">                </span>color="text-purple-600"</p>
<p class="p1"><span class="Apple-converted-space">                </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;AnalyticsCard</p>
<p class="p1"><span class="Apple-converted-space">                </span>title="Avg Deal Size"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={`$${Math.round(analytics.avgDealSize).toLocaleString()}`}</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon={TrendingUp}</p>
<p class="p1"><span class="Apple-converted-space">                </span>color="text-orange-600"</p>
<p class="p1"><span class="Apple-converted-space">                </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className={`${cardBg} rounded-lg shadow-sm border ${darkMode ? 'border-gray-700' : 'border-slate-200'} p-6`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className={`text-lg font-semibold ${textClass} mb-4`}&gt;Conversion Rates by Stage&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{Object.entries(analytics.conversionRates).map(([stageId, rate]) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                  </span>const stage = stages.find(s =&gt; s.id === stageId);</p>
<p class="p1"><span class="Apple-converted-space">                  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div key={stageId}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div className="flex justify-between mb-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className={`text-sm ${textClass}`}&gt;{stage?.name}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span className={`text-sm font-semibold ${textClass}`}&gt;{rate}%&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;div className={`w-full ${darkMode ? 'bg-gray-700' : 'bg-slate-200'} rounded-full h-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                          </span>className={`${stage?.color} h-2 rounded-full`}</p>
<p class="p1"><span class="Apple-converted-space">                          </span>style={{ width: `${rate}%` }}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>);</p>
<p class="p1"><span class="Apple-converted-space">                </span>})}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>)}</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>{showAddLead &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;AddLeadModal</p>
<p class="p1"><span class="Apple-converted-space">          </span>onClose={() =&gt; setShowAddLead(false)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onAdd={addLead}</p>
<p class="p1"><span class="Apple-converted-space">          </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">        </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>{showAddActivity &amp;&amp; selectedLead &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;AddActivityModal</p>
<p class="p1"><span class="Apple-converted-space">          </span>lead={selectedLead}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onClose={() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setShowAddActivity(false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>setSelectedLead(null);</p>
<p class="p1"><span class="Apple-converted-space">          </span>}}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onAdd={addActivity}</p>
<p class="p1"><span class="Apple-converted-space">          </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">        </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>{showSettings &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;SettingsModal</p>
<p class="p1"><span class="Apple-converted-space">          </span>onClose={() =&gt; setShowSettings(false)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onExportCSV={exportCSV}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onImportCSV={importCSV}</p>
<p class="p1"><span class="Apple-converted-space">          </span>fileInputRef={fileInputRef}</p>
<p class="p1"><span class="Apple-converted-space">          </span>darkMode={darkMode}</p>
<p class="p1"><span class="Apple-converted-space">          </span>leads={leads}</p>
<p class="p1"><span class="Apple-converted-space">        </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function LeadCard({ lead, stages, darkMode, selectedLeads, onSelect, onStageChange, onAddActivity, onActivityComplete, onDelete, onDuplicate }) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [showDetails, setShowDetails] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const upcomingActivities = (lead.activities || []).filter(a =&gt; !a.completed &amp;&amp; new Date(a.dueDate) &gt;= new Date());</p>
<p class="p1"><span class="Apple-converted-space">  </span>const isSelected = selectedLeads.includes(lead.id);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className={`rounded-lg p-3 transition-all border ${</p>
<p class="p1"><span class="Apple-converted-space">      </span>isSelected<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>? 'bg-blue-50 border-blue-400 shadow-md'<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>: darkMode<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>? 'bg-gray-700 border-gray-600 hover:shadow-md'<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>: 'bg-slate-50 border-slate-200 hover:shadow-md'</p>
<p class="p1"><span class="Apple-converted-space">    </span>}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="flex items-start gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">          </span>type="checkbox"</p>
<p class="p1"><span class="Apple-converted-space">          </span>checked={isSelected}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onChange={() =&gt; onSelect(lead.id)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>className="mt-1 rounded"</p>
<p class="p1"><span class="Apple-converted-space">        </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="flex-1 cursor-pointer" onClick={() =&gt; setShowDetails(!showDetails)}&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex items-start justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h4 className={`font-semibold text-sm ${darkMode ? 'text-gray-100' : 'text-slate-900'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{lead.name}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{lead.company &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-slate-600'}`}&gt;{lead.company}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex items-center gap-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{lead.score &gt; 70 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className="text-xs bg-red-500 text-white px-2 py-0.5 rounded"&gt;HOT&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>{lead.value &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span className="text-xs font-semibold text-green-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>${lead.value.toLocaleString()}</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>{lead.email &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-slate-500'} mb-2`}&gt;{lead.email}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>{upcomingActivities.length &gt; 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex items-center gap-1 text-xs text-orange-600 mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;Bell className="w-3 h-3" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;span&gt;{upcomingActivities.length} upcoming&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>{showDetails &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className={`mt-3 pt-3 border-t ${darkMode ? 'border-gray-600' : 'border-slate-200'} space-y-2`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex gap-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">              </span>onClick={onAddActivity}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="flex-1 bg-blue-600 text-white px-3 py-1.5 rounded text-xs hover:bg-blue-700 transition-colors"</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>+ Activity</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">              </span>onClick={() =&gt; onDuplicate(lead.id)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className={`p-1.5 rounded ${darkMode ? 'bg-gray-600 text-gray-200' : 'bg-slate-200 text-slate-700'} hover:opacity-80`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>title="Duplicate"</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;Copy className="w-4 h-4" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">              </span>onClick={() =&gt; onDelete(lead.id)}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="p-1.5 rounded bg-red-600 text-white hover:bg-red-700"</p>
<p class="p1"><span class="Apple-converted-space">              </span>title="Delete"</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;Trash2 className="w-4 h-4" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">            </span>value={lead.stage}</p>
<p class="p1"><span class="Apple-converted-space">            </span>onChange={(e) =&gt; onStageChange(lead.id, e.target.value)}</p>
<p class="p1"><span class="Apple-converted-space">            </span>className={`w-full px-2 py-1.5 text-xs border ${darkMode ? 'bg-gray-600 border-gray-500 text-gray-100' : 'border-slate-300'} rounded focus:ring-2 focus:ring-blue-500`}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>{stages.map(stage =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;option key={stage.id} value={stage.id}&gt;{stage.name}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>))}</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/select&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>{lead.activities &amp;&amp; lead.activities.length &gt; 0 &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="space-y-1 max-h-32 overflow-y-auto"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>{lead.activities.slice(0, 3).map(activity =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div key={activity.id} className="flex items-center gap-2 text-xs"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                    </span>type="checkbox"</p>
<p class="p1"><span class="Apple-converted-space">                    </span>checked={activity.completed}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>onChange={() =&gt; onActivityComplete(lead.id, activity.id)}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>className="rounded"</p>
<p class="p1"><span class="Apple-converted-space">                  </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;span className={activity.completed ? `line-through ${darkMode ? 'text-gray-500' : 'text-slate-400'}` : darkMode ? 'text-gray-300' : 'text-slate-700'}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{activity.type}: {activity.description}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>))}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>{lead.leadSource &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-slate-500'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>Source: {lead.leadSource}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">          </span>{lead.industry &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-slate-500'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>Industry: {lead.industry}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>)}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function ActivityRow({ activity, darkMode, onComplete }) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const Icon = ACTIVITY_TYPES.find(t =&gt; t.id === activity.type)?.icon || CheckSquare;</p>
<p class="p1"><span class="Apple-converted-space">  </span>const dueDate = new Date(activity.dueDate);</p>
<p class="p1"><span class="Apple-converted-space">  </span>const isOverdue = !activity.completed &amp;&amp; dueDate &lt; new Date();</p>
<p class="p1"><span class="Apple-converted-space">  </span>const isDueSoon = !activity.completed &amp;&amp; dueDate &lt;= new Date(Date.now() + 3 * 24 * 60 * 60 * 1000);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className={`p-4 hover:bg-opacity-50 transition-colors ${activity.completed ? 'opacity-60' : ''} ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-slate-50'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="flex items-start gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">          </span>type="checkbox"</p>
<p class="p1"><span class="Apple-converted-space">          </span>checked={activity.completed}</p>
<p class="p1"><span class="Apple-converted-space">          </span>onChange={onComplete}</p>
<p class="p1"><span class="Apple-converted-space">          </span>className="mt-1 rounded"</p>
<p class="p1"><span class="Apple-converted-space">        </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;Icon className={`w-5 h-5 mt-0.5 ${darkMode ? 'text-gray-500' : 'text-slate-400'}`} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="flex-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex items-start justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h4 className={`font-medium ${activity.completed ? `line-through ${darkMode ? 'text-gray-500' : 'text-slate-500'}` : darkMode ? 'text-gray-100' : 'text-slate-900'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{activity.description}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-slate-600'} mt-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{activity.leadName}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className={`text-sm font-medium ${</p>
<p class="p1"><span class="Apple-converted-space">                </span>isOverdue ? 'text-red-600' :</p>
<p class="p1"><span class="Apple-converted-space">                </span>isDueSoon ? 'text-orange-600' :</p>
<p class="p1"><span class="Apple-converted-space">                </span>darkMode ? 'text-gray-400' : 'text-slate-600'</p>
<p class="p1"><span class="Apple-converted-space">              </span>}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{dueDate.toLocaleDateString()}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className={`text-xs ${darkMode ? 'text-gray-500' : 'text-slate-500'} mt-1 capitalize`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{activity.type}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>{activity.notes &amp;&amp; (</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-slate-500'} mt-2`}&gt;{activity.notes}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>)}</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function AnalyticsCard({ title, value, icon: Icon, color, darkMode }) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-slate-200'} rounded-lg shadow-sm border p-6`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className="flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-slate-600'} mb-1`}&gt;{title}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p className={`text-2xl font-bold ${darkMode ? 'text-gray-100' : 'text-slate-900'}`}&gt;{value}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;Icon className={`w-10 h-10 ${color} opacity-80`} /&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function AddLeadModal({ onClose, onAdd, darkMode }) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [formData, setFormData] = useState({</p>
<p class="p1"><span class="Apple-converted-space">    </span>name: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>company: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>email: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>phone: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>value: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>notes: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>leadSource: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>industry: ''</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleSubmit = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!formData.name.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>alert('Please enter a contact name');</p>
<p class="p1"><span class="Apple-converted-space">      </span>return;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>onAdd({</p>
<p class="p1"><span class="Apple-converted-space">      </span>...formData,</p>
<p class="p1"><span class="Apple-converted-space">      </span>value: formData.value ? parseFloat(formData.value) : 0</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const bgClass = darkMode ? 'bg-gray-800' : 'bg-white';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const textClass = darkMode ? 'text-gray-100' : 'text-slate-900';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const inputClass = darkMode ? 'bg-gray-700 border-gray-600 text-gray-100' : 'border-slate-300';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className={`${bgClass} rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex items-center justify-between mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 className={`text-2xl font-bold ${textClass}`}&gt;Add New Lead&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onClick={onClose} className={darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-slate-400 hover:text-slate-600'}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;X className="w-6 h-6" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Contact Name *</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="text"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.name}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, name: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Company</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="text"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.company}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, company: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Email</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="email"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.email}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, email: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Phone</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="tel"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.phone}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, phone: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Deal Value ($)</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="number"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.value}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, value: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Lead Source</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.leadSource}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, leadSource: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;option value=""&gt;Select source...&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{LEAD_SOURCES.map(source =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;option key={source} value={source}&gt;{source}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Industry</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.industry}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, industry: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;option value=""&gt;Select industry...&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{INDUSTRIES.map(industry =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;option key={industry} value={industry}&gt;{industry}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="md:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Notes</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;textarea</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.notes}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, notes: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>rows={3}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex gap-3 pt-4 mt-4 border-t border-opacity-20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">              </span>onClick={onClose}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className={`flex-1 px-4 py-2 border ${darkMode ? 'border-gray-600 text-gray-300' : 'border-slate-300 text-slate-700'} rounded-lg hover:bg-opacity-50 transition-colors`}</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>Cancel</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">              </span>onClick={handleSubmit}</p>
<p class="p1"><span class="Apple-converted-space">              </span>className="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"</p>
<p class="p1"><span class="Apple-converted-space">            </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>Add Lead</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function AddActivityModal({ lead, onClose, onAdd, darkMode }) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const [formData, setFormData] = useState({</p>
<p class="p1"><span class="Apple-converted-space">    </span>type: 'call',</p>
<p class="p1"><span class="Apple-converted-space">    </span>description: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>dueDate: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>reminderDate: '',</p>
<p class="p1"><span class="Apple-converted-space">    </span>notes: ''</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const handleSubmit = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">    </span>if (!formData.description.trim() || !formData.dueDate) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>alert('Please fill in description and due date');</p>
<p class="p1"><span class="Apple-converted-space">      </span>return;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>onAdd(formData);</p>
<p class="p1"><span class="Apple-converted-space">  </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>const bgClass = darkMode ? 'bg-gray-800' : 'bg-white';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const textClass = darkMode ? 'text-gray-100' : 'text-slate-900';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const inputClass = darkMode ? 'bg-gray-700 border-gray-600 text-gray-100' : 'border-slate-300';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className={`${bgClass} rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex items-center justify-between mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 className={`text-2xl font-bold ${textClass}`}&gt;Add Activity&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onClick={onClose} className={darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-slate-400 hover:text-slate-600'}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;X className="w-6 h-6" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-slate-600'} mb-4`}&gt;For: {lead.name}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Activity Type *</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;select</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.type}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, type: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ACTIVITY_TYPES.map(type =&gt; (</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;option key={type.id} value={type.id}&gt;{type.name}&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>))}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Description *</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="text"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.description}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, description: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>placeholder="e.g., Follow up on proposal"</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Due Date *</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="date"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.dueDate}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, dueDate: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Reminder Date</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                </span>type="date"</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.reminderDate}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, reminderDate: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;label className={`block text-sm font-medium ${textClass} mb-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Notes</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;textarea</p>
<p class="p1"><span class="Apple-converted-space">                </span>value={formData.notes}</p>
<p class="p1"><span class="Apple-converted-space">                </span>onChange={(e) =&gt; setFormData({ ...formData, notes: e.target.value })}</p>
<p class="p1"><span class="Apple-converted-space">                </span>rows={3}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`w-full px-3 py-2 border ${inputClass} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className="flex gap-3 pt-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={onClose}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className={`flex-1 px-4 py-2 border ${darkMode ? 'border-gray-600 text-gray-300' : 'border-slate-300 text-slate-700'} rounded-lg hover:bg-opacity-50 transition-colors`}</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Cancel</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                </span>onClick={handleSubmit}</p>
<p class="p1"><span class="Apple-converted-space">                </span>className="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"</p>
<p class="p1"><span class="Apple-converted-space">              </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Add Activity</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">function SettingsModal({ onClose, onExportCSV, onImportCSV, fileInputRef, darkMode, leads }) {</p>
<p class="p1"><span class="Apple-converted-space">  </span>const bgClass = darkMode ? 'bg-gray-800' : 'bg-white';</p>
<p class="p1"><span class="Apple-converted-space">  </span>const textClass = darkMode ? 'text-gray-100' : 'text-slate-900';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>return (</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;div className={`${bgClass} rounded-lg shadow-xl max-w-md w-full`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div className="p-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="flex items-center justify-between mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 className={`text-2xl font-bold ${textClass}`}&gt;Settings&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onClick={onClose} className={darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-slate-400 hover:text-slate-600'}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;X className="w-6 h-6" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;div className="space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;h3 className={`font-semibold ${textClass} mb-2`}&gt;Data Management&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;div className="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                  </span>onClick={onExportCSV}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="w-full flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;Download className="w-4 h-4" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>Export to CSV</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button</p>
<p class="p1"><span class="Apple-converted-space">                  </span>onClick={() =&gt; fileInputRef.current?.click()}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="w-full flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"</p>
<p class="p1"><span class="Apple-converted-space">                </span>&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>&lt;Upload className="w-4 h-4" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">                  </span>Import from CSV</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input</p>
<p class="p1"><span class="Apple-converted-space">                  </span>ref={fileInputRef}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>type="file"</p>
<p class="p1"><span class="Apple-converted-space">                  </span>accept=".csv"</p>
<p class="p1"><span class="Apple-converted-space">                  </span>onChange={onImportCSV}</p>
<p class="p1"><span class="Apple-converted-space">                  </span>className="hidden"</p>
<p class="p1"><span class="Apple-converted-space">                </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div className={`p-4 ${darkMode ? 'bg-gray-700' : 'bg-slate-50'} rounded-lg`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-slate-700'}`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Total Leads: &lt;strong&gt;{leads.length}&lt;/strong&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-slate-700'} mt-1`}&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>Data is automatically saved to your browser</p>
<p class="p1"><span class="Apple-converted-space">              </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>);</p>
<p class="p1">}</p>
</body>
</html>
